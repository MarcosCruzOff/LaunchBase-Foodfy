{% extends "layout-manager.njk" %}

{% block content %}

   <section class="header-title">
      <h2>Criando receita</h2>
      <div class="buttons-group">
         <button class="button delete" form="form_delete" type="submit">DELETAR</button>
         <button class="button primary" form="form_update" type="submit">Salvar receita</button>
      </div>
   </section>

   <form id="form_update" method="POST" action="/admin/recipes?_method=PUT">

      {% include './fields-recipe.njk' %}

      <input type="hidden" name="id" value={{ recipe.id }}></form>

      <form id="form_delete" action="/admin/recipes?_method=DELETE" method="post">

         <input type="hidden" name="id" value={{ recipe.id }}></form>

         <script>
            const formDelete = document.querySelector("#form_delete")
            formDelete.addEventListener("submit", function (event) {
               const confirmation = confirm("Deseja Deletar?")
               if (! confirmation) {
                  event.preventDefault()
               }
            })
         </script>



         <script src="/../js/ingredients.js"></script>


      {% endblock content %}