{% extends "layout-manager.njk" %}

{% block content %}

   <section>
      <div class="header-title">
         <h2>Editando Chef</h2>
         <div class="buttons-group">
            <button class="delete" form="form_delete" type="submit">DELETAR</button>
            <button class="primary" form="form_update" type="submit">Salvar chef</button>
         </div>
      </div>
   </section>

   <form id="form_update" method="POST" action="/admin/chef?_method=PUT">

      {% include './fields-chef.njk' %}

      <input type="hidden" name="id" value={{ chef.id }}></form>

      <form id="form_delete" action="/admin/chef?_method=DELETE" method="post">

         <input type="hidden" name="id" value={{ chef.id }}></form>

         <script>
            const formDelete = document.querySelector("#form_delete")
            formDelete.addEventListener("submit", function (event) {
               const confirmation = confirm("Deseja Deletar?")
               if (! confirmation) {
                  event.preventDefault()
               }
            })
         </script>

      {% endblock content %}